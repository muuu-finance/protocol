# Muuu Finance

## For Developer

### Folder structure

Explain about folders, files that need commentary.

```text
contracts
|- contracts // Contract codes
|- migrations // [deprecated/old] deploy scripts (provided by truffle)
|- scripts // mock deploy scripts (provided by truffle)
|- tasks // tasks (provided by hardhat)
|- test // tests (provided by truffle)
|- types // type definitions (provided by typechain, for hardhat)
|- utils // modules to provide utility functions
|- .env // environment values
|       // (generated by user to copy .env.template and set values)
|- .env.template // environment values
|- contracts-mocks-*.json // addresses to mock contracts for each network
L contracts-*.json // addresses to production contracts for each network
```

### Operations

#### Launch

**Local**

```bash
# Prerequisite
# - global install truffle
cd contracts
yarn compile

# In local development with mocks (with created local network)
# Prerequisite
# - install ganache cli & launch
#   - ex: ganache / npx hardhat node
yarn deploy:mocks-token:local
yarn deploy:mocks-kagla:local
yarn deploy:with-mocks:local
yarn deploy-locker:with-mocks:local
# Or
yarn deploy:full:local # exec all commands as mentioned above
# if necessary
yarn deploy-booster-owner-and-transfer-roles:local
yarn transfer-roles:local
```

```bash
# if use TreasuryFunds
yarn deploy-treasury-funds:local
# update treasury's address in contracts/tasks/constants/local.ts
yarn deploy:full:local
# if necessary
yarn deploy-booster-owner-and-transfer-roles:local
yarn transfer-roles:local
```

**Global Network**

```bash
# In global network
cp .env.template .env
# & add params to .env
# update environments parameters in contracts/tasks/constants/...

yarn deploy-treasury-funds:Nnnn
# update treasury's address in contracts/tasks/constants/Nnnn.ts
yarn deploy:Nnnn
yarn deploy-locker:Nnnn
yarn deploy-booster-owner-and-transfer-roles:Nnnn
yarn transfer-roles:Nnnn

# If you want to check deployed contracts
yarn check-deployed-contracts:Nnnn
```
